<!DOCTYPE html>
<html>
<head>
<link rel="stylesheet" type="text/css" href="plugins/font-awesome-4.7.0/css/font-awesome.min.css">
<script src="plugins/intl-tel-input-master/build/js/intlTelInput.min.js" type="text/javascript" charset="utf-8" ></script>

<script src="plugins/intl-tel-input-master/build/js/utils.js" type="text/javascript" charset="utf-8" ></script>
	<script src="services/talk.js" type="text/javascript" charset="utf-8" ></script>
	<link rel="stylesheet" type="text/css" href="plugins/intl-tel-input-master/build/css/intlTelInput.min.css">
	<link rel="stylesheet" type="text/css" href="plugins/OnsenUI-dist-2.10.10/css/onsenui-core.min.css">
	<link rel="stylesheet" type="text/css" href="plugins/OnsenUI-dist-2.10.10/css/onsen.min.css">
	<link rel="stylesheet" type="text/css" href="plugins/OnsenUI-dist-2.10.10/css/onsen-css-components.min.css">
	<!-- Components CSS -->
	<link rel="stylesheet" type="text/css" href="components/login/login.css">
	<link rel="stylesheet" type="text/css" href="components/home/home.css">
	<link rel="stylesheet" type="text/css" href="components/verify/verify.css">
	<link rel="stylesheet" type="text/css" href="components/landing/landing.css">
	<link rel="stylesheet" type="text/css" href="components/global/onsen-overwrite.css">
	<link rel="stylesheet" type="text/css" href="components/global/onsen-overwrite-dark.css">
	<link rel="stylesheet" type="text/css" href="components/global/onsen-overwrite-light.css">
	</style>
	<meta charset="utf-8">
	<meta http-equiv="X-UA-Compatible" content="IE=edge">
	<title>Chat App</title>
	<base href="/">
</head>
<body ng-app="myApp">
	<ons-navigator var="myNavigator" page="verify.html"></ons-navigator>
	
	<!-- This template veriffy user genrated data integrtity, user login and permission before login -->
	<template id="verify.html">
		<ons-page ng-controller="verifyCtrl">
			  <ons-progress-bar indeterminate ng-if="isVerifyLoading"></ons-progress-bar>
			<ons-toast var="verifyToast" ng-controller="verifyCtrl" cancelable>
			  {{toastMessage}}<button ng-click="verifyToast.hide();">Dismiss</button>
			</ons-toast>
		</ons-page>
	</template>

	 <!--  Login page of user not registered -->
	<template id="login.html">
		<ons-page ng-controller="loginCtrl">
			<ons-progress-bar indeterminate ng-if="isLoginLoading"></ons-progress-bar>

			<ons-toolbar>
				<div class="center">
					Login
				</div>
			</ons-toolbar>

			<ons-card>
				<ons-list-item>
					<input type="tel"  name="tel" id="phone" ng-model="phone" class="iti-mobile">
				</ons-list-item>
				<ons-list-item>
					<ons-button modifier="large" ng-click="login()">Login</ons-button>
				</ons-list-item>
			</ons-card>

			
			  <ons-dialog id="loginDialog" ng-controller="loginCtrl">
			    <div style="text-align: center; padding: 10px;">
			      <p>
			        <ons-input placeholder="Type OTP" ng-model="otpReceived"></ons-input>
			      </p>

			      <p>
			        <ons-button ng-click="validateOTP(otpReceived)">Validate</ons-button>
			      </p>
			         <p>
			        <ons-button ng-click="cancelOTP();">Cancel</ons-button>
			      </p>
			    </div>
			  </ons-dialog>

		</ons-page>
	</template>

	<!-- This Template To Be Used to Complete Profile While User OnBoarding -->
	<template id="profile-completion.html">
		<ons-page ng-controller="profileCompletionCtrl">
			<ons-toolbar>
				<div class="left">
					<ons-back-button></ons-back-button>
				</div>
				<div class="center">
					Complete Your Profile
				</div>
			</ons-toolbar>
			  <ons-progress-bar indeterminate ng-if="isProfileCompletionLoading"></ons-progress-bar>
			<ons-toast var="profileCompletionToast" ng-controller="profileCompletionCtrl" cancelable>
			  {{toastMessage}}<button ng-click="profileCompletionToast.hide();">Dismiss</button>
			</ons-toast>
		</ons-page>
	</template>


	<template id="landing.html">
		<ons-page ng-controller="landingCtrl">
			<ons-toolbar>
				<div class="left">
					<ons-back-button></ons-back-button>
				</div>
				<div class="center">
					List Of Users
				</div>
			</ons-toolbar>
			<div class="core-chat-container">
			<div id="talkjs-container" class="talkjs-container"><i>Loading Inbox</i></div>
		</div>
		</ons-page>
	</template>

	<!-- Template Shown on Lnding Screen -->
	<template id="home.html">
		<ons-page ng-controller="landingCtrl">
			<ons-toolbar>
				<div class="left">
					<ons-back-button></ons-back-button>
				</div>
				<div class="center">
					Home
				</div>
			</ons-toolbar>
			<ons-progress-bar indeterminate ng-if="isHomeLoading"></ons-progress-bar>
			<ons-toast var="homeToast" ng-controller="homeCtrl" cancelable>
			  {{toastMessage}}<button ng-click="homeToast.hide();">Dismiss</button>
			</ons-toast>
			<ons-tabbar swipeable position="top" ons-prechange="updateTitle($event)">
			    <ons-tab page="profile-near.html" label="Near" icon="fa-location-arrow"  active>
			    </ons-tab>
			    <ons-tab page="chat.html" label="Chat" icon="fa-comments-o" badge="7">
			    </ons-tab>
			     <ons-tab page="profile-settings.html" label="Settings" icon="fa-user-circle-o" active-icon="md-face">
			    </ons-tab>
		  </ons-tabbar>
		</ons-page>
	</template>

	<!-- Sub Template Of Home Template Containing extended profile-near template -->
	<template id="profile-near.html">
		<ons-page ng-controller="profileNearCtrl">
			  <ons-progress-bar indeterminate ng-if="isProfileNearLoading"></ons-progress-bar>
			  <ons-fab position="bottom right">
			  	<icon icon="fa-filter"></icon>
			  </ons-fab>
			  <!-- Pull To Refresh -->
			   <ons-pull-hook ng-action="pullToRefresh($done)" var="profileNearLoader">
			    <span ng-switch="profileNearLoader.state">
			      <span ng-switch-when="initial"><ons-icon size="35px" icon="ion-arrow-down-a"></ons-icon> Pull down to refresh</span>
			      <span ng-switch-when="preaction"><ons-icon size="35px" icon="ion-arrow-up-a"></ons-icon> Release to refresh</span>
			      <span ng-switch-when="action"><ons-icon size="35px" spin="true" icon="ion-load-d"></ons-icon> Loading data...</span>
			    </span>
			  </ons-pull-hook>

				<ons-card  ons-lazy-repeat="delegate">
				    <ons-list-item>{{ name }}</ons-list-item>
				    <ons-list-item>{{ age }}</ons-list-item>
				</ons-card>
		</ons-page>
	</template>

	<!-- Sub Template Of Home Template Containing extended chat template -->
	<template id="chat.html">
		<ons-page ng-controller="chatCtrl">
			 <ons-progress-bar indeterminate ng-if="isChatLoading"></ons-progress-bar>
			   <ons-pull-hook ng-action="pullToRefresh($done)" var="chatLoader">
			    <span ng-switch="chatLoader.state">
			      <span ng-switch-when="initial"><ons-icon size="35px" icon="ion-arrow-down-a"></ons-icon> Pull down to refresh</span>
			      <span ng-switch-when="preaction"><ons-icon size="35px" icon="ion-arrow-up-a"></ons-icon> Release to refresh</span>
			      <span ng-switch-when="action"><ons-icon size="35px" spin="true" icon="ion-load-d"></ons-icon> Loading data...</span>
			    </span>
			  </ons-pull-hook>

				<h1>Chat By</h1>
		</ons-page>
	</template>

	<!-- Sub Template Of Home Template Containing extended profile-settings template -->
	<template id="profile-settings.html">
		<ons-page ng-controller="homeCtrl">
			  <ons-progress-bar indeterminate ng-if="isProfileSettingsLoading"></ons-progress-bar>
			<h1>Settings By</h1>
		</ons-page>
	</template>
</body>
<!-- Core Framework API -->
<script src="plugins/OnsenUI-dist-2.10.10/js/onsenui.min.js" type="text/javascript" charset="utf-8"></script>
<script src="plugins/angular-1.7.9/angular.min.js" type="text/javascript" charset="utf-8"></script>
<script src="plugins/OnsenUI-dist-2.10.10/js/angular-onsenui.min.js" type="text/javascript" charset="utf-8" ></script>
<script src="init.js" type="text/javascript" charset="utf-8"></script>
<!-- Controllers -->
<script src="components/landing/landingCtrl.js" type="text/javascript" charset="utf-8" ></script>
<script src="components/login/loginCtrl.js" type="text/javascript" charset="utf-8" ></script>
<script src="components/home/homeCtrl.js" type="text/javascript" charset="utf-8" ></script>
<script src="components/verify/verifyCtrl.js" type="text/javascript" charset="utf-8" ></script>
<script src="components/profile-near/profileNearCtrl.js" type="text/javascript" charset="utf-8" ></script>
<script src="components/chat/chatCtrl.js" type="text/javascript" charset="utf-8" ></script>
<script src="components/profile-completion/profileCompletionCtrl.js" type="text/javascript" charset="utf-8" ></script>
<!-- Services -->
<script src="services/auth-services.js" type="text/javascript" charset="utf-8" ></script>
<script src="services/talkjs-services.js" type="text/javascript" charset="utf-8" ></script>
<script src="services/near-services.js" type="text/javascript" charset="utf-8" ></script>
<script src="services/state-manager.js" type="text/javascript" charset="utf-8" ></script>
<script src="services/profile-services.js" type="text/javascript" charset="utf-8" ></script>
</html>