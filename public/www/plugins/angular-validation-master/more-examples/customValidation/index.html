<!DOCTYPE html>
<html ng-app="myApp" ng-strict-di ng-cloak="">
  <head>
    <meta charset="utf-8" />
    <title>Angular-Validation with Custom Javascript function</title>
    <link rel="stylesheet" href="https://netdna.bootstrapcdn.com/bootstrap/3.3.2/css/bootstrap.min.css">
        <link rel="stylesheet" href="../../style.css">
  </head>

  <body>
    <div class="container">
      <h2>Example of Angular-Validation with Custom Javascript function</h2>

      <div  ng-controller="CtrlDirective as vmd">
        <h3>Directive</h3>
        <div class="alert alert-danger alert-dismissable" ng-show="vmd.form1.$validationSummary.length &gt; 0">
          <button type="button" class="close" data-dismiss="alert" aria-hidden="true">&times;</button>
          <h4><strong>ERRORS!</strong></h4>
          <ul>
              <li ng-repeat="item in vmd.form1.$validationSummary">{{ item.field }}: {{item.message}}</li>
          </ul>
        </div>

        <form name="vmd.form1">
          <div class="form-group">
            <p>Type '<b>abc</b>' for a valid answer </p>
            <label for="input1">Custom javascript Validation (error msg using alt:)</label>
            <!-- defining the custom javascript function call by using `custom:` or `javascript:` -->
            <input type="text" class="form-control"
              name="input1"
              ng-model="vmd.model.input1"
              placeholder="alpha|min_len:2|custom:vmd.myCustomValidation1|required"
              validation="alpha|min_len:2|custom:vmd.myCustomValidation1:alt=Alternate error message.|required" />
          </div>
          <br/>
          <div class="form-group">
            <p>Type '<b>def</b>' for a valid answer </p>
            <label for="input2">Custom javascript Validation (error msg declared in custom function)</label>
            <!-- same as previous but defined as `javascript` and error message is declared directly in the custom function -->
            <input type="text" class="form-control"
              name="input2"
              ng-model="vmd.model.input2"
              placeholder="alpha|min_len:2|custom:vmd.myCustomValidation2|required"
              validation="alpha|min_len:2|custom:vmd.myCustomValidation2|required" />
          </div>
          <div class="form-group">
            <label for="iban1">Valid IBAN</label>
            <input type="text" class="form-control"
              name="iban1"
              ng-model="vmd.model.iban1"
              placeholder="custom:vmd.myIbanCheck1(vmd.model.iban1)|required"
              validation="custom:vmd.myIbanCheck1(vmd.model.iban1)|required" />
          </div>
          <div class="form-actions">
            <button type="submit" name="btn_ngDisabled1" class="btn btn-primary" ng-disabled="vmd.form1.$invalid" >{{ 'SAVE' | translate }} (ngDisabled)</button>
            <button type="submit" name="btn_ngSubmit1" class="btn btn-primary" ng-click="vmd.submitForm()">{{ 'SAVE' | translate }} (ngSubmit)</button>
          </div>
        </form>
      </div>

      <hr/>

      <div  ng-controller="CtrlService as vms">
        <h3>Service</h3>
        <div class="alert alert-danger alert-dismissable" ng-show="vms.form2.$validationSummary.length &gt; 0">
          <button type="button" class="close" data-dismiss="alert" aria-hidden="true">&times;</button>
          <h4><strong>ERRORS!</strong></h4>
          <ul>
              <li ng-repeat="item in vms.form2.$validationSummary">{{ item.field }}: {{item.message}}</li>
          </ul>
        </div>

        <form name="vms.form2">
          <div class="form-group">
            <p>Type '<b>abc</b>' for a valid answer </p>
            <label for="input3">Custom javascript Validation (error msg using alt:)</label>
            <!-- defining the custom javascript function call by using `custom:` or `javascript:` -->
            <input type="text" class="form-control"
              name="input3"
              ng-model="vms.model.input3"
              placeholder="alpha|min_len:2|custom:vms.myCustomValidation3|required" />
          </div>
          <br/>
          <div class="form-group">
            <p>Type '<b>def</b>' for a valid answer </p>
            <label for="input4">Custom javascript Validation (error msg declared in custom function)</label>
            <!-- same as previous but defined as `javascript` and error message is declared directly in the custom function -->
            <input type="text" class="form-control"
              name="input4"
              ng-model="vms.model.input4"
              placeholder="alpha|min_len:2|custom:vms.myCustomValidation4|required" />
          </div>
          <div class="form-group">
            <label for="iban2">Valid IBAN</label>
            <input type="text" class="form-control"
              name="iban2"
              ng-model="vms.model.iban2"
              placeholder="custom:vms.myIbanCheck2(vms.model.iban2)|required" />
          </div>
          <div class="form-actions">
            <button type="submit" name="btn_ngDisabled2" class="btn btn-primary" ng-disabled="vms.form2.$invalid" >{{ 'SAVE' | translate }} (ngDisabled)</button>
            <button type="submit" name="btn_ngSubmit2" class="btn btn-primary" ng-click="vms.submitForm()">{{ 'SAVE' | translate }} (ngSubmit)</button>
          </div>
        </form>
      </div>
    </div>

    <!-- external librairies CDN -->
    <script type="text/javascript" src="http://ajax.googleapis.com/ajax/libs/angularjs/1.4.4/angular.js"></script>
    <script type="text/javascript" src="http://ajax.googleapis.com/ajax/libs/angularjs/1.4.4/angular-route.js"></script>

    <!-- angular-translate -->
    <!-- Visit Angular-Translate https://github.com/PascalPrecht/angular-translate -->
    <script src="../../vendors/angular-translate/angular-translate.min.js"></script>
    <script src="../../vendors/angular-translate/angular-translate-loader-static-files.min.js"></script>

    <!-- IBAN external library -->
    <script src="../../vendors/iban/iban.js"></script>

    <!-- Angular-Validation -->
    <script type="text/javascript" src="../../dist/angular-validation.min.js"></script>
    <!--
    <script type="text/javascript" src="../../src/validation-directive.js"></script>
    <script type="text/javascript" src="../../src/validation-service.js"></script>
    <script type="text/javascript" src="../../src/validation-common.js"></script>
    <script type="text/javascript" src="../../src/validation-rules.js"></script>
    -->

    <!-- my application -->
    <script type="text/javascript" src="app.js"></script>
  </body>
</html>
